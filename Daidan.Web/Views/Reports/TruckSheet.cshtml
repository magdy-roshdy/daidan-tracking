@model Daidan.Web.Models.TrucksExpensesIndexViewModel
@{
	ViewBag.Title = "Truck Sheet";
}

<style type="text/css">
	#searchPanel {
		margin-top: 20px;
	}

	#searchPanel .row {
		margin-bottom: 5px;
	}

	#searchPanel input, #searchPanel select {
		height: 33px;
	}

	#resultTable tr {
		height: 30px;
	}

	.table-header-row
	{
		 background-color: #EBEBEB;
		 line-height: 35px;
		 font-weight: bold;
	}
</style>
<h2><i class="fa fa-truck"></i> Truck Sheet</h2>
<div id="searchPanel">
	<div class="row">
		<div class="col-md-1">
			Truck #:
		</div>
		<div class="col-md-2">
			@Html.DropDownListFor(x => x.TruckId,
				@Model.Trucks,
				new { @class = "form-control", id="trucks" })
		</div>
		<div class="col-md-1">
			Month:
		</div>
		<div class="col-md-2">
			@Html.DropDownListFor(x => x.Month,
				@Model.Months,
				new { @class = "form-control", id="months" })
		</div>
		<div class="col-md-1">
			Year:
		</div>
		<div class="col-md-2">
			@Html.TextBoxFor(x => x.Year, new { @class = "form-control", type = "number", id="year" })
		</div>
		<div class="col-md-1">&nbsp;</div>
		<div class="col-md-2">
			<input type="button" class="form-control btn btn-primary" value="View Sheet" id="viewSheetButton" />
		</div>
	</div>
</div>
<div class="row" style="border-bottom: dotted 1px #000;">&nbsp;</div>

<div id="searchResult" style="display: none; width: 100%;">
	<div class="row">
		<div class="col-lg-11">&nbsp;</div>
		<div class="col-lg-1">
			<button id="printButton" class="btn btn-default" style="margin: 5px 0px 5px 0px;">
				<i class="fa fa-print"></i>
				&nbsp;
				Print
			</button>
		</div>
	</div>
	<div class="row print-area">
		<div style="border: solid 1px #000; padding: 5px 15px 15px 15px;">
			<h2 class="text-center">Truck Sheet</h2>
			<br />

			<table border="0" style="width: 100%;">
				<tbody>
					<tr>
						<td style="width: 130px;"><strong>Truck Number:</strong></td>
						<td style="width: 30%" id="truckNumberCell"></td>

						<td style="width: 70px"><strong>Month:</strong></td>
						<td id="monthCell"></td>
					</tr>
				</tbody>
			</table>

			<h3>Truck Trips</h3>
			<hr style="border-color: #7D7D7D;" />

			<table border="1" class="table-responsive" style="width: 100%;" id="resultTable">
				<thead>
					<tr class="table-header-row">
						<th style="text-align: center;" width="30">&nbsp;</th>
						<th style="text-align: center;" width="85">Date</th>
						<th style="text-align: center;" width="120">Customer</th>
						<th style="text-align: center;" width="100">Site</th>
						<th style="text-align: center;" width="85">Material</th>
						<th style="text-align: center;" width="80">Quantity</th>
						<th style="text-align: center;" width="50">Trip Cost</th>
						<th style="text-align: center;" width="50">Trip Price</th>
						<th style="text-align: center;" width="90">Trip Net Profit</th>
						<th style="text-align: center;" width="120" class="hide-print">Admin. percentage</th>
						<th style="text-align: center;" width="90" class="hide-print">Admin. Amount</th>
					</tr>
				</thead>
				<tbody></tbody>
			</table>
			<style type="text/css" media="print">
				.hide-print {
					display: none;
				}

				#resultTable
				{
					font-size: 0.7em;
				}

				.table-header-row{
					 background-color: #EBEBEB;
					 line-height: 20px;
					 font-weight: bold;
				}
			</style>

			<br /><br />

			<h3>Truck Expenses</h3>
			<hr style="border-color: #7D7D7D;" />
			<table border="1" class="table-responsive" style="width: 350px;" id="expensesTable">
				<tbody></tbody>
			</table>
		</div>
	</div>
</div>

<div class="row" id="loadingDiv" style="display: none;">
	<div style="margin: 0 auto; width: 150px;">
		<img src="~/Content/images/loading.gif" alt="" style="margin: 10px;" />
		<br />
		loading ...
	</div>
</div>

<script type="text/javascript" src="~/Scripts/jquery.PrintArea.js_4.js"></script>
<script type="text/javascript" src="~/Scripts/truck-sheet.js?version=1.2"></script>